<!DOCTYPE html>
<html>
<head>
	<title>API Fun</title>
	
	<script>
		function getUser(){
			var ajaxRequest = new XMLHttpRequest();
			ajaxRequest.onreadystatechange = function(){
			
				if(ajaxRequest.readyState == 4){
					//Check that a valid GET request returns a 200 status code.
					if(ajaxRequest.status == 200){
						document.getElementById("user1").innerHTML = ajaxRequest.responseText;
					}
					else{
						console.log("Status error: " + ajaxRequest.status);
					}
				}
				else{
					console.log("Ignored readyState: " + ajaxRequest.readyState);
				}
			
			
			}
			ajaxRequest.open('GET', 'https://randomuser.me/api/');
			ajaxRequest.send();
		}
        function fetchUser() {
      let url = 'https://randomuser.me/api/';
      // Fetch the content from the URL
      fetch(url)
        // Convert response to text
        .then(response => response.text())
        // Use the text to modify the page
        .then((text) => {
          document
            .getElementById('user2')
            .innerText = text;
        });
    }
        
	
	</script>	
</head>
<body onload="getUser(); fetchUser() ">
	<p id="user1"></p>
    <p id="user2"></p>
    <h2> Questions:</h2>
	<p>The API I seletected is a Random User Generator. Upon loading the page, a random user is printed onto the page as a raw string. 
        I found this API attached in the website Professor Diorio provided to us: <a href="https://mixedanalytics.com/blog/list-actually-free-open-no-auth-needed-apis/"> 
            Big List of Free and Open Public APIs (No Auth Needed)</a> </p>
     
    <p>The first option I used to for the API request was the GET method. This method requests information from a specified source. The second option
        I used for the API request is the Fetch method. This method loads the API and adds the content to the webpage </p>

    <p>This API could be useful in a variety of scenarios. If a screenwriter or author needed to come up with a random character, they could use this random generator to
    come up with a hypothetical person's information. This API could also be used to fill in random information in a form.</p>

    <p> The most challenging part of the assignment was figuring out how to send a request to the API based on the examples from class. The 
        most satisfying part was finally seeing the information printed onto the webpage.</p>
</body>
</html>